<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸŒ¾ AgriSahayak - Smart Farming Assistant</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Outfit:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Animated Background -->
    <div class="animated-bg">
        <!-- Aurora Gradient Mesh -->
        <div class="aurora-container">
            <div class="aurora aurora-1"></div>
            <div class="aurora aurora-2"></div>
            <div class="aurora aurora-3"></div>
        </div>
        
        <!-- Floating Particles Container -->
        <div class="particles" id="particles"></div>
        
        <!-- Glowing Orbs -->
        <div class="orb orb-1"></div>
        <div class="orb orb-2"></div>
        <div class="orb orb-3"></div>
        
        <!-- Grid Pattern Overlay -->
        <div class="grid-overlay"></div>
    </div>

    <!-- Sidebar Navigation -->
    <nav class="sidebar">
        <div class="logo">
            <span class="logo-icon">ğŸŒ¾</span>
            <span class="logo-text gradient-text">AgriSahayak</span>
        </div>
        
        <div class="nav-links">
            <a href="#" class="nav-link active" onclick="showPage('profile')">
                <span class="nav-icon">ğŸ‘¨â€ğŸŒ¾</span>
                <span>Profile</span>
            </a>
            <a href="#" class="nav-link" onclick="showPage('crop-advisor')">
                <span class="nav-icon">ğŸŒ±</span>
                <span>Crop Advisor</span>
            </a>
            <a href="#" class="nav-link" onclick="showPage('crop-cycle')">
                <span class="nav-icon">ğŸ”„</span>
                <span>Crop Cycle</span>
            </a>
            <a href="#" class="nav-link" onclick="showPage('disease')">
                <span class="nav-icon">ğŸ”¬</span>
                <span>Disease Detection</span>
            </a>
            <a href="#" class="nav-link" onclick="showPage('fertilizer')">
                <span class="nav-icon">ğŸ§ª</span>
                <span>Fertilizer</span>
            </a>
            <a href="#" class="nav-link" onclick="showPage('expense')">
                <span class="nav-icon">ğŸ’°</span>
                <span>Expense Tracker</span>
            </a>
            <a href="#" class="nav-link" onclick="showPage('market')">
                <span class="nav-icon">ğŸ“Š</span>
                <span>Market Prices</span>
            </a>
            <a href="#" class="nav-link" onclick="showPage('schemes')">
                <span class="nav-icon">ğŸ“‹</span>
                <span>Govt Schemes</span>
            </a>
        </div>
        
        <div class="backend-status" id="backend-status">
            â³ Checking backend...
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        
        <!-- PROFILE PAGE -->
        <div id="profile" class="page active">
            <header class="page-header">
                <h1>ğŸ‘¨â€ğŸŒ¾ Farmer Profile</h1>
                <p>Manage your profile and land details for personalized recommendations</p>
            </header>

            <div id="auth-section">
                <div class="auth-toggle glass-card">
                    <button class="active" onclick="setAuthMode('register')">New Registration</button>
                    <button onclick="setAuthMode('login')">Already Registered</button>
                </div>

                <div id="register-form" class="glass-card">
                    <h3>ğŸ“ Register as Farmer</h3>
                    <div class="form-grid">
                        <div class="input-group">
                            <label>Full Name</label>
                            <input type="text" id="reg-name" placeholder="Enter your name" class="input">
                        </div>
                        <div class="input-group">
                            <label>Phone Number</label>
                            <input type="tel" id="reg-phone" placeholder="10-digit mobile" class="input" maxlength="10">
                        </div>
                        <div class="input-group">
                            <label>State</label>
                            <select id="reg-state" class="input">
                                <option value="">Select State</option>
                                <option>Maharashtra</option><option>Punjab</option><option>Uttar Pradesh</option>
                                <option>Madhya Pradesh</option><option>Gujarat</option><option>Rajasthan</option>
                                <option>Karnataka</option><option>Tamil Nadu</option><option>Andhra Pradesh</option>
                                <option>Telangana</option><option>West Bengal</option><option>Bihar</option><option>Haryana</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>District</label>
                            <input type="text" id="reg-district" placeholder="Your district" class="input">
                        </div>
                        <div class="input-group">
                            <label>Preferred Language</label>
                            <select id="reg-language" class="input">
                                <option value="hi">à¤¹à¤¿à¤‚à¤¦à¥€</option><option value="en">English</option>
                                <option value="mr">à¤®à¤°à¤¾à¤ à¥€</option><option value="ta">à®¤à®®à®¿à®´à¯</option>
                                <option value="te">à°¤à±†à°²à±à°—à±</option><option value="kn">à²•à²¨à³à²¨à²¡</option>
                            </select>
                        </div>
                    </div>
                    <button class="btn-primary" onclick="registerFarmer()">âœ… Complete Registration</button>
                </div>

                <div id="login-form" class="glass-card" style="display: none;">
                    <h3>ğŸ”‘ Find Your Profile</h3>
                    <div class="input-group">
                        <label>Phone Number</label>
                        <input type="tel" id="login-phone" placeholder="Enter registered mobile" class="input" maxlength="10">
                    </div>
                    <button class="btn-primary" onclick="lookupFarmer()">ğŸ” Find Profile</button>
                    <p id="login-error" class="error-msg"></p>
                </div>
            </div>

            <div id="profile-dashboard" style="display: none;">
                <div class="profile-card glass-card">
                    <div class="profile-header">
                        <div class="avatar" id="farmer-avatar">J</div>
                        <div class="profile-info">
                            <h2 id="farmer-name">John Doe</h2>
                            <p class="text-muted">ğŸ“± <span id="farmer-phone">9876543210</span></p>
                            <p class="text-muted">ğŸ“ <span id="farmer-location">District, State</span></p>
                        </div>
                        <span class="badge" id="farmer-id">ID: ABC123</span>
                    </div>
                    <div class="profile-stats">
                        <div class="stat"><span class="stat-value" id="stat-lands">0</span><span class="stat-label">Lands</span></div>
                        <div class="stat"><span class="stat-value" id="stat-area">0</span><span class="stat-label">Acres</span></div>
                        <div class="stat"><span class="stat-value" id="stat-crops">0</span><span class="stat-label">Crops Grown</span></div>
                    </div>
                    <button class="btn-secondary" onclick="logoutFarmer()">ğŸšª Logout</button>
                </div>

                <div class="section-header">
                    <h3>ğŸŒ¾ Your Lands</h3>
                    <button class="btn-secondary" onclick="toggleAddLand()">+ Add Land</button>
                </div>

                <div id="add-land-form" class="glass-card" style="display: none;">
                    <div class="form-grid">
                        <div class="input-group">
                            <label>Area (Acres)</label>
                            <input type="number" id="land-area" placeholder="e.g., 2.5" class="input" step="0.1">
                        </div>
                        <div class="input-group">
                            <label>Soil Type</label>
                            <select id="land-soil" class="input">
                                <option value="">Select</option>
                                <option value="black">Black (Regur)</option><option value="red">Red Soil</option>
                                <option value="alluvial">Alluvial</option><option value="sandy">Sandy</option><option value="loamy">Loamy</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>Irrigation Type</label>
                            <select id="land-irrigation" class="input">
                                <option value="">Select</option>
                                <option value="rainfed">Rainfed</option><option value="canal">Canal</option>
                                <option value="borewell">Borewell</option><option value="drip">Drip Irrigation</option><option value="sprinkler">Sprinkler</option>
                            </select>
                        </div>
                    </div>
                    <button class="btn-primary" onclick="addLand()">ğŸŒ± Add Land</button>
                </div>

                <div id="lands-container" class="land-cards"></div>
            </div>
        </div>

        <!-- CROP ADVISOR PAGE -->
        <div id="crop-advisor" class="page">
            <header class="page-header">
                <h1>ğŸŒ± AI Crop Advisor</h1>
                <p>Get AI-powered crop recommendations based on your soil and climate</p>
            </header>

            <div class="glass-card">
                <h3>ğŸ“Š Enter Your Field Data</h3>
                <div class="form-grid">
                    <div class="input-group"><label>Nitrogen (N) kg/ha</label><input type="number" id="nitrogen" value="50" class="input"></div>
                    <div class="input-group"><label>Phosphorus (P) kg/ha</label><input type="number" id="phosphorus" value="40" class="input"></div>
                    <div class="input-group"><label>Potassium (K) kg/ha</label><input type="number" id="potassium" value="30" class="input"></div>
                    <div class="input-group"><label>Temperature (Â°C)</label><input type="number" id="temperature" value="28" class="input"></div>
                    <div class="input-group"><label>Humidity (%)</label><input type="number" id="humidity" value="70" class="input"></div>
                    <div class="input-group"><label>Soil pH</label><input type="number" id="ph" value="6.5" step="0.1" class="input"></div>
                    <div class="input-group full-width"><label>Annual Rainfall (mm)</label><input type="number" id="rainfall" value="150" class="input"></div>
                </div>
                <button class="btn-primary" id="crop-btn" onclick="getCropRecommendations()">ğŸ” Get Recommendations</button>
            </div>

            <div id="crop-results" style="display: none;">
                <h3 style="text-align: center; margin: 2rem 0;">ğŸŒ¾ Recommended Crops</h3>
                <div id="crop-cards" class="recommendations-grid"></div>
                <div id="soil-health" class="glass-card"></div>
            </div>
        </div>

        <!-- CROP CYCLE PAGE -->
        <div id="crop-cycle" class="page">
            <header class="page-header">
                <h1>ğŸ”„ Crop Lifecycle Tracker</h1>
                <p>Track your crops from sowing to harvest with AI-powered insights</p>
            </header>

            <div class="glass-card">
                <h3>ğŸš€ Start New Crop Cycle</h3>
                <div class="form-grid">
                    <div class="input-group"><label>Land ID</label><input type="text" id="cycle-land-id" placeholder="e.g., L123ABC" class="input"></div>
                    <div class="input-group">
                        <label>Crop</label>
                        <select id="cycle-crop" class="input">
                            <option value="">Select Crop</option>
                            <option value="rice">Rice</option><option value="wheat">Wheat</option><option value="maize">Maize</option>
                            <option value="cotton">Cotton</option><option value="tomato">Tomato</option><option value="potato">Potato</option>
                            <option value="onion">Onion</option><option value="sugarcane">Sugarcane</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Season</label>
                        <select id="cycle-season" class="input">
                            <option value="kharif">Kharif (Monsoon)</option><option value="rabi">Rabi (Winter)</option><option value="zaid">Zaid (Summer)</option>
                        </select>
                    </div>
                    <div class="input-group"><label>Sowing Date</label><input type="date" id="cycle-sowing-date" class="input"></div>
                </div>
                <button class="btn-primary" onclick="startCropCycle()">ğŸŒ¾ Start Tracking</button>
            </div>

            <div id="active-cycles"><h3>ğŸ“Š Active Crop Cycles</h3><div id="cycles-container" class="cycle-cards"></div></div>
            <div id="empty-cycles" class="glass-card empty-state">
                <span class="empty-icon">ğŸŒ¾</span><h3>No Active Crops</h3>
                <p>Start tracking your first crop cycle to get AI-powered insights!</p>
            </div>
        </div>

        <!-- DISEASE DETECTION PAGE -->
        <div id="disease" class="page">
            <header class="page-header">
                <h1>ğŸ”¬ Disease Detection</h1>
                <p>Upload a photo of your plant leaf to detect diseases instantly using AI</p>
            </header>

            <div class="glass-card">
                <div class="upload-area" id="upload-area" onclick="document.getElementById('file-input').click()">
                    <input type="file" id="file-input" accept="image/*" onchange="handleFileSelect(event)" hidden>
                    <div id="upload-placeholder" class="upload-placeholder">
                        <span class="upload-icon">ğŸ“·</span><h3>Drop your image here</h3>
                        <p>or click to browse</p><span class="upload-hint">Supports JPG, PNG up to 10MB</span>
                    </div>
                    <img id="preview-image" class="preview-image" style="display: none;" alt="Preview">
                </div>
                <div class="upload-actions">
                    <button class="btn-primary" id="analyze-btn" onclick="analyzeDisease()" disabled>ğŸ” Analyze</button>
                    <button class="btn-secondary" onclick="clearImage()">ğŸ—‘ï¸ Clear</button>
                </div>
            </div>
            <div id="disease-results" style="display: none;"></div>
        </div>

        <!-- FERTILIZER PAGE -->
        <div id="fertilizer" class="page">
            <header class="page-header">
                <h1>ğŸ§ª Fertilizer & Pesticide Advisory</h1>
                <p>Smart recommendations based on your soil NPK levels</p>
            </header>

            <div class="glass-card">
                <h3>ğŸ“Š Enter Soil Test Results</h3>
                <div class="form-grid">
                    <div class="input-group">
                        <label>Crop</label>
                        <select id="fert-crop" class="input">
                            <option value="">Select Crop</option>
                            <option value="rice">Rice</option><option value="wheat">Wheat</option><option value="maize">Maize</option>
                            <option value="cotton">Cotton</option><option value="tomato">Tomato</option><option value="potato">Potato</option>
                            <option value="onion">Onion</option><option value="sugarcane">Sugarcane</option>
                        </select>
                    </div>
                    <div class="input-group"><label>Nitrogen (N) kg/ha</label><input type="number" id="fert-nitrogen" class="input" value="120"></div>
                    <div class="input-group"><label>Phosphorus (P) kg/ha</label><input type="number" id="fert-phosphorus" class="input" value="35"></div>
                    <div class="input-group"><label>Potassium (K) kg/ha</label><input type="number" id="fert-potassium" class="input" value="80"></div>
                    <div class="input-group"><label>Soil pH</label><input type="number" id="fert-ph" class="input" step="0.1" value="6.8"></div>
                    <div class="input-group"><label>Organic Carbon (%)</label><input type="number" id="fert-oc" class="input" step="0.1" value="0.4"></div>
                </div>
                <button class="btn-primary" onclick="getFertilizerRecommendations()">ğŸ”¬ Get Smart Recommendations</button>
            </div>
            <div id="fertilizer-results" style="display: none;"></div>
        </div>

        <!-- EXPENSE PAGE -->
        <div id="expense" class="page">
            <header class="page-header">
                <h1>ğŸ’° Expense & Profit Estimator</h1>
                <p>Track your farming costs and predict profits with AI</p>
            </header>

            <div class="glass-card">
                <h3>ğŸ“ Enter Farming Expenses</h3>
                <div class="form-grid">
                    <div class="input-group">
                        <label>Crop</label>
                        <select id="exp-crop" class="input">
                            <option value="">Select Crop</option>
                            <option value="rice">Rice</option><option value="wheat">Wheat</option><option value="maize">Maize</option>
                            <option value="cotton">Cotton</option><option value="tomato">Tomato</option><option value="potato">Potato</option>
                            <option value="onion">Onion</option><option value="sugarcane">Sugarcane</option>
                        </select>
                    </div>
                    <div class="input-group"><label>Area (Acres)</label><input type="number" id="exp-area" class="input" step="0.5" value="2"></div>
                    <div class="input-group">
                        <label>Season</label>
                        <select id="exp-season" class="input">
                            <option value="kharif">Kharif (Monsoon)</option><option value="rabi">Rabi (Winter)</option><option value="zaid">Zaid (Summer)</option>
                        </select>
                    </div>
                </div>
                <h4 style="margin-top: 1.5rem;">ğŸ’¸ Cost Breakdown (â‚¹)</h4>
                <div class="form-grid">
                    <div class="input-group"><label>ğŸŒ± Seed Cost</label><input type="number" id="exp-seed" class="input" value="2000"></div>
                    <div class="input-group"><label>ğŸ§ª Fertilizer Cost</label><input type="number" id="exp-fertilizer" class="input" value="3000"></div>
                    <div class="input-group"><label>ğŸ› Pesticide Cost</label><input type="number" id="exp-pesticide" class="input" value="1500"></div>
                    <div class="input-group"><label>ğŸ‘· Labor Cost</label><input type="number" id="exp-labor" class="input" value="5000"></div>
                    <div class="input-group"><label>ğŸ’§ Irrigation Cost</label><input type="number" id="exp-irrigation" class="input" value="2000"></div>
                    <div class="input-group"><label>ğŸšœ Machinery Cost</label><input type="number" id="exp-machinery" class="input" value="3000"></div>
                </div>
                <button class="btn-primary" onclick="estimateProfit()">ğŸ“Š Calculate Profit</button>
            </div>
            <div id="expense-results" style="display: none;"></div>
        </div>

        <!-- MARKET PRICES PAGE -->
        <div id="market" class="page">
            <header class="page-header">
                <h1>ğŸ“Š Market Prices</h1>
                <p>Real-time mandi prices and market intelligence for your produce</p>
            </header>

            <div class="glass-card">
                <div class="search-bar">
                    <span class="search-icon">ğŸ”</span>
                    <input type="text" id="market-search" placeholder="Search commodity..." class="search-input" onkeyup="filterMarket(event)">
                </div>
                <div class="quick-filters" id="commodity-filters">
                    <button class="filter-btn active" onclick="selectCommodity('rice')">ğŸŒ¾ Rice</button>
                    <button class="filter-btn" onclick="selectCommodity('wheat')">ğŸŒ¾ Wheat</button>
                    <button class="filter-btn" onclick="selectCommodity('maize')">ğŸŒ½ Maize</button>
                    <button class="filter-btn" onclick="selectCommodity('cotton')">ğŸ§¶ Cotton</button>
                    <button class="filter-btn" onclick="selectCommodity('tomato')">ğŸ… Tomato</button>
                    <button class="filter-btn" onclick="selectCommodity('potato')">ğŸ¥” Potato</button>
                    <button class="filter-btn" onclick="selectCommodity('onion')">ğŸ§… Onion</button>
                </div>
            </div>
            <div id="market-results"></div>
        </div>

        <!-- SCHEMES PAGE -->
        <div id="schemes" class="page">
            <header class="page-header">
                <h1>ğŸ“‹ Government Schemes</h1>
                <p>Discover subsidies and welfare schemes you're eligible for</p>
            </header>

            <div class="glass-card">
                <div class="search-bar">
                    <span class="search-icon">ğŸ”</span>
                    <input type="text" id="scheme-search" placeholder="Search schemes by name, ministry or benefit..." class="search-input" onkeyup="filterSchemes()">
                </div>
                <div class="quick-filters" style="flex-wrap: wrap;">
                    <button class="filter-btn active" onclick="filterSchemeCategory('All')">ğŸ›ï¸ All</button>
                    <button class="filter-btn" onclick="filterSchemeCategory('Insurance')">ğŸ›¡ï¸ Insurance</button>
                    <button class="filter-btn" onclick="filterSchemeCategory('Subsidy')">ğŸ’° Subsidy</button>
                    <button class="filter-btn" onclick="filterSchemeCategory('Credit')">ğŸ¦ Credit</button>
                    <button class="filter-btn" onclick="filterSchemeCategory('Irrigation')">ğŸ’§ Irrigation</button>
                    <button class="filter-btn" onclick="filterSchemeCategory('Market')">ğŸª Market</button>
                    <button class="filter-btn" onclick="filterSchemeCategory('Organic')">ğŸŒ¿ Organic</button>
                    <button class="filter-btn" onclick="filterSchemeCategory('Pension')">ğŸ‘´ Pension</button>
                    <button class="filter-btn" onclick="filterSchemeCategory('Horticulture')">ğŸ Horticulture</button>
                    <button class="filter-btn" onclick="filterSchemeCategory('Dairy')">ğŸ¥› Dairy</button>
                    <button class="filter-btn" onclick="filterSchemeCategory('Climate')">ğŸŒ Climate</button>
                </div>
            </div>

            <div class="eligibility-cta glass-card">
                <div class="cta-content">
                    <span class="cta-icon">âœ…</span>
                    <div><h3>Check Your Eligibility</h3><p>Answer a few questions to find schemes you qualify for</p></div>
                </div>
                <button class="btn-primary" onclick="startEligibilityCheck()">Start Check â†’</button>
            </div>
            
            <div style="margin-bottom: 1rem; padding: 1rem; background: rgba(16, 185, 129, 0.1); border-radius: 0.75rem; border: 1px solid rgba(16, 185, 129, 0.3);">
                <span style="font-size: 1.2rem;">ğŸ“Š</span> 
                <strong id="scheme-count">18</strong> Government Schemes Available
                <span style="color: var(--text-muted); margin-left: 1rem;">â€¢ Updated: Jan 2025</span>
            </div>
            
            <div id="schemes-grid" class="schemes-grid"></div>
        </div>

    </main>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay" style="display: none;">
        <div class="spinner"></div><p>Processing...</p>
    </div>

    <!-- Activity Modal -->
    <div id="activity-modal" class="modal-overlay" style="display: none;" onclick="closeActivityModal()">
        <div class="modal glass-card" onclick="event.stopPropagation()">
            <h3>ğŸ“ Log Farming Activity</h3>
            <div class="input-group">
                <label>Activity Type</label>
                <select id="activity-type" class="input">
                    <option value="irrigation">ğŸ’§ Irrigation</option><option value="fertilizer">ğŸ§ª Fertilizer</option>
                    <option value="pesticide">ğŸ› Pesticide</option><option value="weeding">ğŸŒ¿ Weeding</option><option value="other">ğŸ“‹ Other</option>
                </select>
            </div>
            <div class="input-group">
                <label>Description</label>
                <textarea id="activity-description" class="input" rows="3" placeholder="Describe the activity..."></textarea>
            </div>
            <button class="btn-primary" onclick="submitActivity()">âœ… Log Activity</button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
